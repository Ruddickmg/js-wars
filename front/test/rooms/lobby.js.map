{"version":3,"file":"lobby.js","sourceRoot":"","sources":["lobby.ts"],"names":[],"mappings":";;AAcA,mBAAwB,QAAgB;IAEpC,MAAM,EAAE,GAAW,QAAQ,CAAC;IAC5B,MAAM,IAAI,GAAW,OAAO,CAAC;IAC7B,MAAM,OAAO,GAAQ,EAAE,CAAC;IAExB,IAAI,MAAM,GAAW,CAAC,CAAC;IAEvB,MAAM,CAAC;QAEH,GAAG,CAAC,MAAc;YAEd,MAAM,QAAQ,GAAW,MAAM,CAAC,EAAE,CAAC;YAEnC,MAAM,IAAI,CAAC,CAAC;YACZ,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC;YACvB,OAAO,CAAC,QAAQ,CAAC,GAAG,MAAM,CAAC;YAE3B,MAAM,CAAC,IAAI,CAAC;QAChB,CAAC;QACD,GAAG,EAAE,MAAc,OAAO;QAC1B,SAAS,EAAE,CAAC,QAAgB,KAAa,OAAO,CAAC,QAAQ,CAAC;QAC1D,EAAE,EAAE,MAAc,EAAE;QACpB,IAAI,EAAE,MAAc,IAAI;QACxB,YAAY,CAAC,QAAgB;YAEzB,MAAM,OAAO,GAAW,OAAO,CAAC,QAAQ,CAAC,CAAC;YAE1C,OAAO,OAAO,CAAC,QAAQ,CAAC,CAAC;YAEzB,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;gBAEV,MAAM,IAAI,CAAC,CAAC;YAChB,CAAC;YAED,MAAM,CAAC,OAAO,CAAC;QACnB,CAAC;QACD,IAAI,EAAE,MAAc,MAAM;KAC7B,CAAC;AACN,CAAC;AAvCD,4BAuCC","sourcesContent":["import {Player} from \"../users/players/player\";\nimport {UserId} from \"../users/user\";\n\nexport interface Lobby {\n\n    id(): UserId;\n    name(): string;\n    size(): number;\n    all(): object;\n    getPlayer(id: UserId): Player;\n    add(player: Player): Lobby;\n    removePlayer(id: UserId): Player;\n}\n\nexport default function(identity: UserId): Lobby {\n\n    const id: UserId = identity;\n    const name: string = \"lobby\";\n    const players: any = {};\n\n    let length: number = 0;\n\n    return {\n\n        add(player: Player): Lobby {\n\n            const playerId: UserId = player.id;\n\n            length += 1;\n            player.number = length;\n            players[playerId] = player;\n\n            return this;\n        },\n        all: (): object => players,\n        getPlayer: (playerId: UserId): Player => players[playerId],\n        id: (): UserId => id,\n        name: (): string => name,\n        removePlayer(playerId: UserId): Player {\n\n            const removed: Player = players[playerId];\n\n            delete players[playerId];\n\n            if (removed) {\n\n                length -= 1;\n            }\n\n            return removed;\n        },\n        size: (): number => length,\n    };\n}\n"]}