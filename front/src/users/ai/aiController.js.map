{"version":3,"file":"aiController.js","sourceRoot":"","sources":["aiController.ts"],"names":[],"mappings":";;AAAA,yDAA0E;AAE1E,yCAA+D;AAc/D;IAEI,IAAI,OAAO,GAAc,EAAE,CAAC;IAE5B,MAAM,WAAW,GAAG,CAAC,EAAU,KAAa,EAAE,GAAG,CAAC,CAAC;IACnD,MAAM,WAAW,GAAG,CAAC,EAAU,KAAa,EAAE,GAAG,CAAC,CAAC;IACnD,MAAM,QAAQ,GAAuB,qBAAU,CAAS,CAAC,EAAE,WAAW,EAAE,WAAW,CAAC,CAAC;IACrF,MAAM,SAAS,GAAG,CAAC,MAAgB,EAAE,cAAyB;QAE1D,MAAM,eAAe,GAAc,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,cAAc,CAAC,CAAC;QACrE,MAAM,EAAE,GAAW,QAAQ,CAAC,GAAG,EAAE,CAAC;QAElC,eAAe,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC;QAE7B,MAAM,CAAC,eAAe,CAAC;IAC3B,CAAC,CAAC;IACF,MAAM,YAAY,GAAG,CAAC,EAAU,EAAE,cAAyB;QAEvD,MAAM,eAAe,GAAc,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,cAAc,CAAC,CAAC;QAErE,QAAQ,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;QAEpB,OAAO,eAAe,CAAC,EAAE,CAAC,CAAC;QAE3B,MAAM,CAAC,eAAe,CAAC;IAC3B,CAAC,CAAC;IACF,MAAM,GAAG,GAAG,CAAC,EAAU,KAAe,OAAO,CAAC,EAAE,CAAC,CAAC;IAClD,MAAM,MAAM,GAAG,CAAC,GAAG,SAAqB;QAEpC,SAAS,CAAC,OAAO,CAAC,CAAC,QAAQ;YAEvB,OAAO,GAAG,YAAY,CAAC,QAAQ,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC;QACjD,CAAC,CAAC,CAAC;QAEH,MAAM,CAAC,IAAI,CAAC;IAChB,CAAC,CAAC;IACF,MAAM,GAAG,GAAG,CAAC,QAAc,EAAE,QAAgB;QAEzC,MAAM,EAAE,GAAW,QAAQ,CAAC,GAAG,EAAE,CAAC;QAElC,OAAO,GAAG,SAAS,CAAC,kBAAc,CAAC,QAAQ,EAAE,QAAQ,CAAC,EAAE,OAAO,CAAC,CAAC;QAEjE,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;IACvB,CAAC,CAAC;IAEF,MAAM,CAAC;QACH,UAAU;QACV,GAAG;QACH,MAAM;KACT,CAAC;AACN,CAAC;AAlDD,4BAkDC","sourcesContent":["import {default as identifier, Identifier} from \"../../tools/identity.js\";\nimport {User, UserId} from \"../user\";\nimport {AiPlayer, default as createAiPlayer} from \"./aiPlayer\";\n\ninterface AiPlayers {\n\n    [index: string]: AiPlayer;\n}\n\nexport interface AiController {\n\n    get(id: UserId): AiPlayer;\n    remove(...aiPlayers: AiPlayer[]): AiController;\n    add(aiPlayer: User, roomName: string): AiPlayer;\n}\n\nexport default function() {\n\n    let players: AiPlayers = {};\n\n    const incrementId = (id: number): number => id + 1;\n    const decrementId = (id: number): number => id - 1;\n    const identity: Identifier<UserId> = identifier<UserId>(1, incrementId, decrementId);\n    const addPlayer = (player: AiPlayer, currentPlayers: AiPlayers): AiPlayers => {\n\n        const modifiedPlayers: AiPlayers = Object.assign({}, currentPlayers);\n        const id: UserId = identity.get();\n\n        modifiedPlayers[id] = player;\n\n        return modifiedPlayers;\n    };\n    const removePlayer = (id: UserId, currentPlayers: AiPlayers): AiPlayers => {\n\n        const modifiedPlayers: AiPlayers = Object.assign({}, currentPlayers);\n\n        identity.remove(id);\n\n        delete modifiedPlayers[id];\n\n        return modifiedPlayers;\n    };\n    const get = (id: UserId): AiPlayer => players[id];\n    const remove = (...aiPlayers: AiPlayer[]): AiController => {\n\n        aiPlayers.forEach((aiPlayer) => {\n\n            players = removePlayer(aiPlayer.id, players);\n        });\n\n        return this;\n    };\n    const add = (aiPlayer: User, roomName: string): AiPlayer => {\n\n        const id: UserId = identity.get();\n\n        players = addPlayer(createAiPlayer(aiPlayer, roomName), players);\n\n        return players[id];\n    };\n\n    return {\n        addElement,\n        get,\n        remove,\n    };\n}\n"]}