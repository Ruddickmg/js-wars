{"version":3,"file":"co.js","sourceRoot":"","sources":["co.ts"],"names":[],"mappings":"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","sourcesContent":["import app from \"../../browser/configuration/settings/app.js\";\n\nexport interface CO {\n\n}\n\nexport default function () {\n\n    var percent = function (amount) {\n\n        return amount / 100;\n    };\n\n    var addToEach = function(player, funk, property, amount, parameter1, parameter2, parameter3) {\n\n        if (!parameter) {\n\n            parameter = 100;\n        }\n\n        var units = app.map.unit;\n\n        for (var u = 0; u < units.length; u += 1) {\n\n            if (units[u].player === player.id) {\n\n                app.map.unit[u][property] = funk( unit[u], property, amount, parameter1, parameter2, parameter);\n            }\n        }\n    };\n\n    var editProperty = function(unit, property, amount, parameter) {\n\n        if (unit[property] + amount > parameter) {\n\n            return parameter;\n        \n        } else {\n            \n            return unit[property] + amount;\n        }\n    };\n\n    var filter = function (unit, property, amount, max, parameter1, parameter2) {\n\n        if (unit[parameter1] === parameter2) {\n            \n            if (unit[property] + amount > max) {\n                \n                return max;\n            \n            } else {\n\n                return unit[property] + amount;\n            }\n        }\n    };\n\n    var editRange = function (unit, property, amount) {\n\n        if (unit.damageType === \"ranged\") {\n\n            unit.range.hi += amount;\n            \n            return unit.range;\n        }\n    };\n\n    var editArray = function (unit, property, amount, parameter1, parameter2) {\n\n        var baseDamage = {};\n        var damage = Object.keys(unit[property]);\n\n        for (var d = 0; d < damage.length; d += 1 ) {\n \n            // if there is no perameter then simply find the percentage added to all units\n            if (!parameter1) {\n\n                var dam = unit[property][damage[d]];\n\n                // add the damage plus the percent of increase\n                baseDamage[damage[d]] *= amount;\n\n            // if there is a parameter then only add to the damage type specified in the perameter\n            } else if ( unit[parameter1] === parameter2 ) {\n\n                var dam = unit[property][damage[d]];\n                baseDamage[damage[d]] *= amount\n            }\n        }\n        return baseDamage;\n    };\n\n    return {\n\n        andy: function (player) {\n\n            var image = \"red\";\n            var special = 100;\n            var powerActive = false;\n            var superPowerActive = false;\n            var damage = 100;\n\n            return {\n\n                image: image,\n                name:\"Andy\",\n\n                power: function() {\n\n                    addToEach(player, editProperty(), \"health\", 2, 10);\n                },\n\n                superPower: function() {\n\n                    superPowerActive = true;\n                    addToEach(player, editProperty(),\"health\", 5, 10);\n                    addToEach(player, editProperty(),\"movement\", 1);\n                    special = 130;\n                },\n\n                attack: function() {\n\n                    return damage * percent(special);\n                },\n\n                defense: function() {\n\n                    return 100;\n                },\n\n                endPower: function() {\n\n                    if (superPowerActive) {\n                    \n                        addToEach(player, editProperty(),\"movement\", -1);\n                        special = 100;\n                        superPowerActive = false;\n                    }\n                }\n            }\n        },\n\n        max: function (player) {\n\n            var image = \"blue\";\n            var damage = 100;\n            var special = 120;\n            var powerActive = false;\n            var superPowerActive = false;  \n\n            return {\n\n                image: image,\n\n                name:\"Max\",\n\n                power: function() {\n\n                    powerActive = true;\n                    special = 140;\n                },\n\n                superPower: function() {\n\n                    powerActive = true;\n                    special = 170;\n                },\n\n                attack: function(unit) {\n\n                    if (unit.damageType === \"direct\") {\n\n                        return damage * percent(special);\n\n                    }else{\n\n                        return damage;\n                    }\n                },\n\n                defense: function() {\n\n                    return 100;\n                },\n\n                endPower: function() {\n\n                    if (powerActive) {\n                        special = 120;\n                        powerActive = false;\n                    }\n                },\n\n                build:function(unit){\n                    unit.range.hi -= 1;\n                    return unit;\n                }\n            }\n        },\n\n        sami: function (player) {\n\n            var image = \"green\";\n            var damage = 100;\n            var special = 120;\n            var powerActive = false;\n            var superPowerActive = false;  \n            var capSpecial = 150;\n            var penalty = 90;\n\n            return {\n\n                image:image,\n                name:\"Sami\",\n\n                power: function () {\n\n                    powerActive = true;\n                    addToEach(player, filter(), \"movement\", 1, 20, \"transportaion\", \"foot\");\n                    special = 170;\n                },\n\n                superPower:  function() {\n\n                    superPowerActive = true;\n                    addToEach(player, filter(), \"movement\", 2, 20, \"transportaion\", \"foot\");\n                    special = 200;\n                    capSpecial = 2000;\n                },\n\n                attack: function(unit){\n\n                    if (unit.transportaion === \"foot\") {\n\n                        return damage * percent(special);\n\n                    } else if(unit.damageType === direct) {\n\n                        return damage * percent(penalty);\n                    }\n\n                    return damage;\n                },\n\n                defense: function() {\n\n                    return 100;\n                },\n\n                endPower: function() {\n\n                    if (powerActive) {\n\n                        addToEach(player, filter(), \"movement\", -1, 20, \"transportaion\", \"foot\");\n\n                    } else if (superPowerActive) {\n\n                        addToEach(player, filter(), \"movement\", -2, 20, \"transportaion\", \"foot\");\n                    }\n\n                    special = 120;\n                },\n\n                capture: function (capture) {\n\n                    return capture * percent(capSpecial);\n                }\n            };\n        }\n    };\n}();"]}